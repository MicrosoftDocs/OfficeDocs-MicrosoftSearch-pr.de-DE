---
title: Azure Data Lake Connector für Microsoft Search
ms.author: monaray
author: monaray97
manager: shohara
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Einrichten des Azure Data Lake Storage Gen2-Connectors für Microsoft Search
ms.openlocfilehash: 8891c9a1fdf5397c397a941b5131f014db9e7a54
ms.sourcegitcommit: 597c338bf9c1c425747ac74a9a1ae57c5e8957ce
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/21/2021
ms.locfileid: "49920722"
---
# <a name="azure-data-lake-storage-gen2-connector"></a><span data-ttu-id="adc16-103">Azure Data Lake Storage Gen2 Connector</span><span class="sxs-lookup"><span data-stu-id="adc16-103">Azure Data Lake Storage Gen2 connector</span></span>

<span data-ttu-id="adc16-104">Mit dem Azure Data Lake Storage Gen2-Connector können Benutzer in Ihrer Organisation nach Dateien suchen, die in [Azure Blob Storage-](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) und [Azure Data Lake Gen 2 -Speicherkonten gespeichert](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) sind.</span><span class="sxs-lookup"><span data-stu-id="adc16-104">With the Azure Data Lake Storage Gen2 connector, users in your organization can search for files stored in [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) and [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) accounts.</span></span>

<span data-ttu-id="adc16-105">Dieser Artikel ist für [Microsoft 365-Administratoren](https://www.microsoft.com/microsoft-365) oder alle Personen, die einen Azure Data Lake Storage Gen2-Connector konfigurieren, ausgeführt und überwachen.</span><span class="sxs-lookup"><span data-stu-id="adc16-105">This article is for [Microsoft 365](https://www.microsoft.com/microsoft-365) administrators or anyone who configures, runs, and monitors an Azure Data Lake Storage Gen2 connector.</span></span> <span data-ttu-id="adc16-106">Es bietet eine Übersicht über die Connectorkonfiguration, Funktionen, Einschränkungen und Problembehandlungstechniken.</span><span class="sxs-lookup"><span data-stu-id="adc16-106">It gives an overview of the connector configuration, capabilities, limitations, and troubleshooting techniques.</span></span> <span data-ttu-id="adc16-107">In diesem Artikel verwenden wir *Azure Storage* als generischen Begriff für Azure [Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) und Azure Data Lake [Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction).</span><span class="sxs-lookup"><span data-stu-id="adc16-107">In the article, we use *Azure Storage* as a generic term for [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) and [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction).</span></span>

## <a name="connect-to-a-data-source"></a><span data-ttu-id="adc16-108">Herstellen einer Verbindung mit einer Datenquelle</span><span class="sxs-lookup"><span data-stu-id="adc16-108">Connect to a data source</span></span>

### <a name="primary-storage-connection-string"></a><span data-ttu-id="adc16-109">Primäre Speicherverbindungszeichenfolge</span><span class="sxs-lookup"><span data-stu-id="adc16-109">Primary storage connection string</span></span>

<span data-ttu-id="adc16-110">Geben Sie **auf dem Bildschirm "Authentifizierung und Konfiguration"** die primäre Speicherverbindungszeichenfolge an.</span><span class="sxs-lookup"><span data-stu-id="adc16-110">On the **Authentication and config** screen, provide the Primary Storage Connection String.</span></span> <span data-ttu-id="adc16-111">Diese Zeichenfolge ist erforderlich, um den Zugriff auf Ihr Speicherkonto zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="adc16-111">That string is required to allow access to your storage account.</span></span> <span data-ttu-id="adc16-112">Um Ihre Verbindungszeichenfolge zu finden, wechseln Sie zum [Azure-Portal,](https://ms.portal.azure.com/#home) und navigieren Sie zum Abschnitt **"Schlüssel"** Ihres relevanten Azure Storage-Kontos.</span><span class="sxs-lookup"><span data-stu-id="adc16-112">To find your connection string, go to the [Azure portal](https://ms.portal.azure.com/#home) and navigate to the **Keys** section of your relevant Azure Storage account.</span></span> <span data-ttu-id="adc16-113">Kopieren Sie die Verbindungszeichenfolge, und fügen Sie sie in das entsprechende Feld auf dem Bildschirm ein.</span><span class="sxs-lookup"><span data-stu-id="adc16-113">Copy and paste the connection string in the appropriate field on the screen.</span></span>

<span data-ttu-id="adc16-114">Wenn Sie den **AccountKey** (einen Parameter in der primären Speicherverbindungszeichenfolge) nicht bereitstellen möchten, müssen Sie den Zugriff auf unseren Graph Connectors Service für die folgenden Rollen gewähren.</span><span class="sxs-lookup"><span data-stu-id="adc16-114">If you do not prefer to provide the **AccountKey** (a parameter in the primary storage connection string), you will need to grant access to our Graph Connectors Service for the following roles.</span></span> <span data-ttu-id="adc16-115">(Dieses Feature wird nur für hierarchischen Speicher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="adc16-115">(This feature is only supported for hierarchical storage.</span></span> <span data-ttu-id="adc16-116">Herkömmlicher Blobspeicher muss AccountKey bereitstellen.)</span><span class="sxs-lookup"><span data-stu-id="adc16-116">Traditional Blob storage will have to provide AccountKey.)</span></span>
* <span data-ttu-id="adc16-117">Speicher-BLOB-Datenleser</span><span class="sxs-lookup"><span data-stu-id="adc16-117">Storage Blob Data Reader</span></span>
* <span data-ttu-id="adc16-118">Mitwirkender von Speicherwarteschlangendaten</span><span class="sxs-lookup"><span data-stu-id="adc16-118">Storage Queue Data Contributor</span></span>
* <span data-ttu-id="adc16-119">Speicher-Blob-Delegator</span><span class="sxs-lookup"><span data-stu-id="adc16-119">Storage Blob Delegator</span></span>

<span data-ttu-id="adc16-120">Navigieren Sie zur **Registerkarte "Zugriffssteuerung"** Ihres Azure Storage-Kontos, und folgen Sie dort den Anweisungen, um Zugriff auf die folgende App zu gewähren:</span><span class="sxs-lookup"><span data-stu-id="adc16-120">Navigate to the **Access Control** tab of your Azure Storage account, and follow the instructions there to grant access to the following app:</span></span>

* <span data-ttu-id="adc16-121">**First Party App ID:** 56c1da01-2129-48f7-9355-af6d59d42766</span><span class="sxs-lookup"><span data-stu-id="adc16-121">**First Party App ID:** 56c1da01-2129-48f7-9355-af6d59d42766</span></span>
* <span data-ttu-id="adc16-122">**Name der Erstpartei-App:** Graph Connector Service</span><span class="sxs-lookup"><span data-stu-id="adc16-122">**First Party App Name:** Graph Connector Service</span></span>

### <a name="storage-account-and-queue-notifications-optional"></a><span data-ttu-id="adc16-123">Speicherkonto und Warteschlangenbenachrichtigungen (optional)</span><span class="sxs-lookup"><span data-stu-id="adc16-123">Storage account and queue notifications (Optional)</span></span>

<span data-ttu-id="adc16-124">Unterstützung für das Verarbeiten von Änderungen in Echtzeit im Graph-Connectors-Dienst wird möglicherweise in Zukunft hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="adc16-124">Support to process changes in real time in the Graph Connectors Service might be added in the future.</span></span> <span data-ttu-id="adc16-125">In diesem Fall überwachen wir Azure Storage-Änderungsbenachrichtigungen, die in einer Warteschlange gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="adc16-125">In that case, we'll monitor Azure Storage change notifications stored in a queue.</span></span> <span data-ttu-id="adc16-126">Sie müssen eine Warteschlange im selben Konto wie Ihr Azure Storage-Konto erstellen.</span><span class="sxs-lookup"><span data-stu-id="adc16-126">You'll need to create a queue in the same account as your Azure Storage account.</span></span>

<span data-ttu-id="adc16-127">Nachdem Sie eine Warteschlange erstellt  haben, wechseln Sie zur Registerkarte "Ereignisse" auf der Warteschlangenseite, um das **Ereignisabonnement zu konfigurieren.**</span><span class="sxs-lookup"><span data-stu-id="adc16-127">After you create a queue, go to the **Events** tab on the queue page to configure **Event Subscription**.</span></span> <span data-ttu-id="adc16-128">Wählen Sie alle Blob-Ereignisse aus, die die Warteschlange erhält, und verbinden Sie die Warteschlange mit dem Azure Storage-Konto.</span><span class="sxs-lookup"><span data-stu-id="adc16-128">Choose all the Blob events that the queue will receive, and connect the queue to the Azure Storage account.</span></span>

## <a name="manage-search-permissions"></a><span data-ttu-id="adc16-129">Verwalten von Suchberechtigungen</span><span class="sxs-lookup"><span data-stu-id="adc16-129">Manage search permissions</span></span>

### <a name="azure-data-lake-gen-2"></a><span data-ttu-id="adc16-130">Azure Data Lake Gen 2</span><span class="sxs-lookup"><span data-stu-id="adc16-130">Azure Data Lake Gen 2</span></span>

<span data-ttu-id="adc16-131">Auf dem **Bildschirm "Suchberechtigungen** verwalten" können Sie auswählen, ob Die Zugriffssteuerungslisten (Access Control Lists, ACLs) aus Ihrem [Azure Data Lake Gen 2 -Speicherkonto aufgenommen](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) werden.</span><span class="sxs-lookup"><span data-stu-id="adc16-131">On the **Manage search permissions** screen, you can choose to ingest the Access Control Lists (ACLs) from your [Azure Data Lake Gen 2 Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) account.</span></span> <span data-ttu-id="adc16-132">Wenn diese Suchberechtigungen festgelegt sind, wird der Suchinhalt basierend auf den Berechtigungen gekürzt, die dem angemeldeten [Azure Active](https://docs.microsoft.com/azure/active-directory/) Directory-Benutzer, der den Inhalt durchsucht, zugewiesen sind.</span><span class="sxs-lookup"><span data-stu-id="adc16-132">When these search permissions are set, search content is trimmed based on the permissions assigned to the signed-in [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) user searching the content.</span></span> <span data-ttu-id="adc16-133">Alternativ können Sie festlegen, dass alle Inhalte, die aus Ihrem Speicherkonto indiziert wurden, für alle Benutzer in Ihrer Organisation sichtbar sind.</span><span class="sxs-lookup"><span data-stu-id="adc16-133">Alternatively, you can choose to make all the content indexed from your storage account visible to everyone in your organization.</span></span> <span data-ttu-id="adc16-134">In diesem Fall hat jeder in Ihrer Organisation Zugriff auf alle Daten in Ihrem Speicherkonto.</span><span class="sxs-lookup"><span data-stu-id="adc16-134">In this case, everyone in your organization will have access to all the data in your storage account.</span></span>

### <a name="azure-blob-storage"></a><span data-ttu-id="adc16-135">Azure Blob Storage</span><span class="sxs-lookup"><span data-stu-id="adc16-135">Azure Blob Storage</span></span>

<span data-ttu-id="adc16-136">Für eine Verbindung mit [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction)sind alle Inhalte, die aus der konfigurierten Quelle indiziert wurden, für alle Benutzer in Ihrer Organisation sichtbar.</span><span class="sxs-lookup"><span data-stu-id="adc16-136">For a connection to [Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction), all the content indexed from the configured source is visible to everyone in your organization.</span></span> <span data-ttu-id="adc16-137">Zugriffssteuerungslisten werden auf Blobebene in Azure Blob Storage nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="adc16-137">Access control lists are not supported at Blob level in Azure Blob Storage.</span></span>

## <a name="search-permissions"></a><span data-ttu-id="adc16-138">Suchberechtigungen</span><span class="sxs-lookup"><span data-stu-id="adc16-138">Search permissions</span></span>

<span data-ttu-id="adc16-139">Der Azure Data Lake Storage Gen2-Connector unterstützt Suchberechtigungen, die für alle oder nur Personen mit Zugriff **auf diese Datenquelle sichtbar sind.** </span><span class="sxs-lookup"><span data-stu-id="adc16-139">The Azure Data Lake Storage Gen2 connector supports search permissions visible to **Everyone** or **Only people with access to this data source**.</span></span> <span data-ttu-id="adc16-140">Indizierte Daten, die in den Suchergebnissen angezeigt werden, können für alle Benutzer in der Organisation oder nur für Benutzer sichtbar sein, die Zugriff auf jedes Element haben.</span><span class="sxs-lookup"><span data-stu-id="adc16-140">Indexed data that appears in the search results could be visible to all users in the organization or only to users who have access to each item.</span></span>

## <a name="assign-property-labels"></a><span data-ttu-id="adc16-141">Zuweisen von Eigenschaftsbezeichnungen</span><span class="sxs-lookup"><span data-stu-id="adc16-141">Assign property labels</span></span>

<span data-ttu-id="adc16-142">Sie können jeder Bezeichnung eine Quelleigenschaft zuweisen, indem Sie aus einem Menü mit Optionen auswählen.</span><span class="sxs-lookup"><span data-stu-id="adc16-142">You can assign a source property to each label by choosing from a menu of options.</span></span> <span data-ttu-id="adc16-143">Dieser Schritt ist zwar nicht zwingend erforderlich, aber einige Eigenschaftsbezeichnungen verbessern die Suchrelevanz und stellen für Endbenutzer genauere Suchergebnisse sicher.</span><span class="sxs-lookup"><span data-stu-id="adc16-143">While this step is not mandatory, having some property labels will improve the search relevance and ensure more accurate search results for end users.</span></span>

## <a name="manage-schema"></a><span data-ttu-id="adc16-144">Schema verwalten</span><span class="sxs-lookup"><span data-stu-id="adc16-144">Manage schema</span></span>

<span data-ttu-id="adc16-145">Auf dem Bildschirm **"Schema** verwalten" können Sie die Schemaattribute **(** abfragbar, durchsuchbar, abrufbar und **einlesbar)** ändern, die den Eigenschaften zugeordnet sind, optionale Aliase hinzufügen und die Eigenschaft **"Content"** auswählen.</span><span class="sxs-lookup"><span data-stu-id="adc16-145">On the **Manage Schema** screen, you have the option to change the schema attributes (**queryable**, **searchable**, **retrievable**, and **refinable**) associated with the properties, add optional aliases, and choose the **Content** property.</span></span>

## <a name="set-the-refresh-schedule"></a><span data-ttu-id="adc16-146">Festlegen des Aktualisierungszeitplans</span><span class="sxs-lookup"><span data-stu-id="adc16-146">Set the refresh schedule</span></span>

<span data-ttu-id="adc16-147">Auf dem **Bildschirm "Aktualisierungseinstellungen"** können Sie das Inkrementelle Durchforstungsintervall und das vollständige Durchforstungsintervall festlegen.</span><span class="sxs-lookup"><span data-stu-id="adc16-147">On the **Refresh Settings** screen, you can set the incremental crawl interval and the full crawl interval.</span></span> <span data-ttu-id="adc16-148">Die Standardintervalle für den Azure Data Lake Storage Gen2-Connector sind 15 Minuten für eine inkrementelle Durchforstung und eine Woche für eine vollständige Durchforstung.</span><span class="sxs-lookup"><span data-stu-id="adc16-148">The default intervals for the Azure Data Lake Storage Gen2 connector are 15 minutes for an incremental crawl and one week for a full crawl.</span></span>

## <a name="limitations"></a><span data-ttu-id="adc16-149">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="adc16-149">Limitations</span></span>

<span data-ttu-id="adc16-150">Eine veröffentlichte Verbindung für Azure Blob Storage kann nicht für die Azure Data Lake Storage Gen2-Quelle und umgekehrt neu konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="adc16-150">A published connection for Azure Blob Storage cannot be reconfigured for Azure Data Lake Storage Gen2 source and vice-versa.</span></span> <span data-ttu-id="adc16-151">In solchen Szenarien wird empfohlen, eine neue Verbindung zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="adc16-151">In such scenarios, it is recommended to configure a new connection.</span></span>
