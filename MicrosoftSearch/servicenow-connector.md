---
title: ServiceNow Graph Connector für Microsoft Search
ms.author: mecampos
author: mecampos
manager: umas
audience: Admin
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Einrichten des ServiceNow Graph Connectors für Microsoft Search
ms.openlocfilehash: ac5d0b23547ce7ccd0d8bb6399b092f9bc9e5303
ms.sourcegitcommit: f12e7ff0a94d30a9de1f93266715180e7530de3f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/10/2021
ms.locfileid: "52879308"
---
<!---Previous ms.author: kam1 --->


# <a name="servicenow-graph-connector"></a><span data-ttu-id="e24c9-103">ServiceNow Graph Connector</span><span class="sxs-lookup"><span data-stu-id="e24c9-103">ServiceNow Graph Connector</span></span>

<span data-ttu-id="e24c9-104">Mit dem Microsoft Graph Connector für ServiceNow kann Ihre Organisation Knowledge Base-Artikel indizieren, die für alle Benutzer sichtbar oder mit Benutzerkriterienberechtigungen innerhalb Ihrer Organisation eingeschränkt sind.</span><span class="sxs-lookup"><span data-stu-id="e24c9-104">With the Microsoft Graph Connector for ServiceNow, your organization can index knowledge-base articles that are visible to all users or restricted with user criteria permissions within your organization.</span></span> <span data-ttu-id="e24c9-105">Nachdem Sie den Connector konfiguriert und Inhalte aus ServiceNow indiziert haben, können Endbenutzer von einem beliebigen Microsoft Search-Client nach diesen Artikeln suchen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-105">After you configure the connector and index content from ServiceNow, end users can search for those articles from any Microsoft Search client.</span></span>  

<span data-ttu-id="e24c9-106">Dieser Artikel richtet sich an Microsoft 365 Administratoren oder alle Personen, die einen ServiceNow Graph Connector konfigurieren, ausführen und überwachen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-106">This article is for Microsoft 365 administrators or anyone who configures, runs, and monitors a ServiceNow Graph  connector.</span></span> <span data-ttu-id="e24c9-107">Er ergänzt die allgemeinen Anweisungen im Artikel ["Einrichten Ihres Graph Connectors".](configure-connector.md)</span><span class="sxs-lookup"><span data-stu-id="e24c9-107">It supplements the general instructions provided in the [Set up your Graph connector](configure-connector.md) article.</span></span> <span data-ttu-id="e24c9-108">Wenn sie dies noch nicht getan haben, lesen Sie den gesamten Artikel zum Einrichten ihres Graph Connectors, um den allgemeinen Einrichtungsprozess zu verstehen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-108">If you have not already done so, read the entire Set up your Graph Connector article to understand the general setup process.</span></span>

<span data-ttu-id="e24c9-109">Jeder Schritt im Setupprozess wird unten zusammen mit einem Hinweis aufgeführt, der angibt, dass Sie die allgemeinen Setupanweisungen oder andere Anweisungen befolgen sollten, die nur für ServiceNow Graph Connector gelten, einschließlich Informationen zur [Problembehandlung](#troubleshooting) und [Einschränkungen.](#limitations)</span><span class="sxs-lookup"><span data-stu-id="e24c9-109">Each step in the setup process is listed below along with either a note that indicates you should follow the general setup instructions OR other instructions that apply to only ServiceNow Graph connector including information about [Troubleshooting](#troubleshooting) and [Limitations](#limitations).</span></span>  

## <a name="step-1-add-a-graph-connector-in-the-microsoft-365-admin-center"></a><span data-ttu-id="e24c9-110">Schritt 1: Fügen Sie einen Graph Connector im Microsoft 365 Admin Center hinzu.</span><span class="sxs-lookup"><span data-stu-id="e24c9-110">Step 1: Add a Graph connector in the Microsoft 365 admin center.</span></span>
<span data-ttu-id="e24c9-111">Befolgen Sie die allgemeinen Setupanweisungen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-111">Follow the general setup instructions.</span></span>

## <a name="step-2-name-the-connection"></a><span data-ttu-id="e24c9-112">Schritt 2: Benennen Sie die Verbindung.</span><span class="sxs-lookup"><span data-stu-id="e24c9-112">Step 2: Name the connection.</span></span>
<span data-ttu-id="e24c9-113">Befolgen Sie die allgemeinen Setupanweisungen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-113">Follow the general setup instructions.</span></span>


## <a name="step-3-connection-settings"></a><span data-ttu-id="e24c9-114">Schritt 3: Verbindungs-Einstellungen</span><span class="sxs-lookup"><span data-stu-id="e24c9-114">Step 3: Connection Settings</span></span>
<span data-ttu-id="e24c9-115">Um eine Verbindung mit Ihren ServiceNow-Daten herzustellen, benötigen Sie die **ServiceNow-Instanz-URL** Ihrer Organisation.</span><span class="sxs-lookup"><span data-stu-id="e24c9-115">To connect to your ServiceNow data, you need your organization's **ServiceNow instance URL**.</span></span> <span data-ttu-id="e24c9-116">Die ServiceNow-Instanz-URL Ihrer Organisation sieht in der Regel wie **https:// &lt; Ihre-Organisation-Domäne>.service-now.com** aus.</span><span class="sxs-lookup"><span data-stu-id="e24c9-116">Your organization’s ServiceNow instance URL typically looks like **https://&lt;your-organization-domain>.service-now.com**.</span></span> 

<span data-ttu-id="e24c9-117">Zusammen mit dieser URL benötigen Sie ein **Dienstkonto** zum Einrichten der Verbindung zu ServiceNow sowie zum Zulassen, dass Microsoft Search die Wissensartikel regelmäßig basierend auf dem Aktualisierungszeitplan aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="e24c9-117">Along with this URL, you will need a **service account** for setting up the connection to ServiceNow as well as for allowing Microsoft Search to periodically update the knowledge articles based on the refresh schedule.</span></span> <span data-ttu-id="e24c9-118">Das Dienstkonto benötigt Lesezugriff auf die folgenden **ServiceNow-Tabelleneinträge,** um verschiedene Entitäten erfolgreich durchforsten zu können.</span><span class="sxs-lookup"><span data-stu-id="e24c9-118">The service account will need read access to the following **ServiceNow table records** to successfully crawl various entities.</span></span>

<span data-ttu-id="e24c9-119">**Feature**</span><span class="sxs-lookup"><span data-stu-id="e24c9-119">**Feature**</span></span> | <span data-ttu-id="e24c9-120">**Erforderliche Tabellen für den Lesezugriff**</span><span class="sxs-lookup"><span data-stu-id="e24c9-120">**Read access required tables**</span></span> | <span data-ttu-id="e24c9-121">**Beschreibung**</span><span class="sxs-lookup"><span data-stu-id="e24c9-121">**Description**</span></span>
--- | --- | ---
<span data-ttu-id="e24c9-122">Index knowledge articles available to <em>Everyone</em></span><span class="sxs-lookup"><span data-stu-id="e24c9-122">Index knowledge articles available to <em>Everyone</em></span></span> | <span data-ttu-id="e24c9-123">kb_knowledge</span><span class="sxs-lookup"><span data-stu-id="e24c9-123">kb_knowledge</span></span> | <span data-ttu-id="e24c9-124">Informationen zum Durchforsten von Wissensartikeln</span><span class="sxs-lookup"><span data-stu-id="e24c9-124">For crawling knowledge articles</span></span>
<span data-ttu-id="e24c9-125">Index- und Supportberechtigungen für Benutzerkriterien</span><span class="sxs-lookup"><span data-stu-id="e24c9-125">Index and support user criteria permissions</span></span> | <span data-ttu-id="e24c9-126">kb_uc_can_read_mtom</span><span class="sxs-lookup"><span data-stu-id="e24c9-126">kb_uc_can_read_mtom</span></span> | <span data-ttu-id="e24c9-127">Wer diese Knowledge Base lesen können</span><span class="sxs-lookup"><span data-stu-id="e24c9-127">Who can read this knowledge base</span></span>
| | <span data-ttu-id="e24c9-128">kb_uc_can_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="e24c9-128">kb_uc_can_contribute_mtom</span></span> | <span data-ttu-id="e24c9-129">Wer können zu dieser Wissensbasis beitragen</span><span class="sxs-lookup"><span data-stu-id="e24c9-129">Who can contribute to this knowledge base</span></span>
| | <span data-ttu-id="e24c9-130">kb_uc_cannot_read_mtom</span><span class="sxs-lookup"><span data-stu-id="e24c9-130">kb_uc_cannot_read_mtom</span></span> | <span data-ttu-id="e24c9-131">Wer diese Knowledge Base nicht lesen können</span><span class="sxs-lookup"><span data-stu-id="e24c9-131">Who cannot read this knowledge base</span></span>
| | <span data-ttu-id="e24c9-132">kb_uc_cannot_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="e24c9-132">kb_uc_cannot_contribute_mtom</span></span> | <span data-ttu-id="e24c9-133">Wer können nicht zu dieser Wissensbasis beitragen</span><span class="sxs-lookup"><span data-stu-id="e24c9-133">Who cannot contribute to this knowledge base</span></span>
| | <span data-ttu-id="e24c9-134">sys_user</span><span class="sxs-lookup"><span data-stu-id="e24c9-134">sys_user</span></span> | <span data-ttu-id="e24c9-135">Benutzertabelle lesen</span><span class="sxs-lookup"><span data-stu-id="e24c9-135">Read user table</span></span>
| | <span data-ttu-id="e24c9-136">sys_user_has_role</span><span class="sxs-lookup"><span data-stu-id="e24c9-136">sys_user_has_role</span></span> | <span data-ttu-id="e24c9-137">Lesen von Rolleninformationen von Benutzern</span><span class="sxs-lookup"><span data-stu-id="e24c9-137">Read role information of users</span></span>
| | <span data-ttu-id="e24c9-138">sys_user_grmember</span><span class="sxs-lookup"><span data-stu-id="e24c9-138">sys_user_grmember</span></span> | <span data-ttu-id="e24c9-139">Lesen der Gruppenmitgliedschaft von Benutzern</span><span class="sxs-lookup"><span data-stu-id="e24c9-139">Read group membership of users</span></span>
| | <span data-ttu-id="e24c9-140">user_criteria</span><span class="sxs-lookup"><span data-stu-id="e24c9-140">user_criteria</span></span> | <span data-ttu-id="e24c9-141">Benutzerkriterienberechtigungen lesen</span><span class="sxs-lookup"><span data-stu-id="e24c9-141">Read user criteria permissions</span></span>
| | <span data-ttu-id="e24c9-142">kb_knowledge_base</span><span class="sxs-lookup"><span data-stu-id="e24c9-142">kb_knowledge_base</span></span> | <span data-ttu-id="e24c9-143">Lesen von Knowledge Base-Informationen</span><span class="sxs-lookup"><span data-stu-id="e24c9-143">Read knowledge base information</span></span>

<span data-ttu-id="e24c9-144">Sie können eine Rolle für das Dienstkonto **erstellen und zuweisen,** das Sie zum Herstellen einer Verbindung mit Microsoft Search verwenden.</span><span class="sxs-lookup"><span data-stu-id="e24c9-144">You can **create and assign a role** for the service account you use to connect with Microsoft Search.</span></span> <span data-ttu-id="e24c9-145">[Erfahren Sie, wie Sie eine Rolle für ServiceNow-Konten zuweisen.](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html)</span><span class="sxs-lookup"><span data-stu-id="e24c9-145">[Learn how to assign role for ServiceNow accounts](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span> <span data-ttu-id="e24c9-146">Lesezugriff auf die Tabellen kann der erstellten Rolle zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="e24c9-146">Read access to the tables can be assigned on the created role.</span></span> <span data-ttu-id="e24c9-147">Informationen zum Festlegen des Lesezugriffs auf Tabellendatensätze finden Sie unter [Schützen von Tabellendatensätzen.](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls)</span><span class="sxs-lookup"><span data-stu-id="e24c9-147">To learn about setting read access to table records, see [Securing Table Records](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span></span> 


>[!NOTE]
> <span data-ttu-id="e24c9-148">ServiceNow Graph Connector kann Wissensartikel und Benutzerkriterienberechtigungen ohne erweiterte Skripts indizen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-148">ServiceNow Graph Connector can index knowledge articles and user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="e24c9-149">Wenn ein Benutzerkriterium ein erweitertes Skript enthält, werden alle zugehörigen Wissensartikel in suchergebnissen ausgeblendet.</span><span class="sxs-lookup"><span data-stu-id="e24c9-149">If a user criteria contains advanced script all the related knowledge articles will be hidden from search results.</span></span>

<span data-ttu-id="e24c9-150">Wählen Sie **eine von drei** unterstützten Methoden aus, um Inhalte von ServiceNow zu authentifizieren und zu synchronisieren:</span><span class="sxs-lookup"><span data-stu-id="e24c9-150">To authenticate and sync content from ServiceNow, choose **one of three** supported methods:</span></span> 
 
- <span data-ttu-id="e24c9-151">Standardauthentifizierung</span><span class="sxs-lookup"><span data-stu-id="e24c9-151">Basic authentication</span></span> 
- <span data-ttu-id="e24c9-152">ServiceNow OAuth (empfohlen)</span><span class="sxs-lookup"><span data-stu-id="e24c9-152">ServiceNow OAuth (recommended)</span></span>
- <span data-ttu-id="e24c9-153">Azure AD OpenID Verbinden</span><span class="sxs-lookup"><span data-stu-id="e24c9-153">Azure AD OpenID Connect</span></span>

## <a name="step-31-basic-authentication"></a><span data-ttu-id="e24c9-154">Schritt 3.1: Standardauthentifizierung</span><span class="sxs-lookup"><span data-stu-id="e24c9-154">Step 3.1: Basic authentication</span></span>

<span data-ttu-id="e24c9-155">Geben Sie den Benutzernamen und das Kennwort des ServiceNow-Kontos mit **der Wissensrolle** ein, um sich bei Ihrer Instanz zu authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="e24c9-155">Enter the username and password of ServiceNow account with **knowledge** role to authenticate to your instance.</span></span>

## <a name="step-32-servicenow-oauth"></a><span data-ttu-id="e24c9-156">Schritt 3.2: ServiceNow OAuth</span><span class="sxs-lookup"><span data-stu-id="e24c9-156">Step 3.2: ServiceNow OAuth</span></span>

<span data-ttu-id="e24c9-157">Um ServiceNow OAuth für die Authentifizierung zu verwenden, muss ein ServiceNow-Administrator einen Endpunkt in Ihrer ServiceNow-Instanz bereitstellen, damit die Microsoft Search-App darauf zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="e24c9-157">To use ServiceNow OAuth for authentication, a ServiceNow admin needs to provision an endpoint in your ServiceNow instance, so that the Microsoft Search app can access it.</span></span> <span data-ttu-id="e24c9-158">Weitere Informationen finden Sie unter ["Erstellen eines Endpunkts für Clients für den Zugriff auf die Instanz"](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) in der ServiceNow-Dokumentation.</span><span class="sxs-lookup"><span data-stu-id="e24c9-158">To learn more, see [Create an endpoint for clients to access the instance](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) in the ServiceNow documentation.</span></span>

<span data-ttu-id="e24c9-159">Die folgende Tabelle enthält Anleitungen zum Ausfüllen des Formulars für die Endpunkterstellung:</span><span class="sxs-lookup"><span data-stu-id="e24c9-159">The following table provides guidance on how to fill out the endpoint creation form:</span></span>

<span data-ttu-id="e24c9-160">Feld</span><span class="sxs-lookup"><span data-stu-id="e24c9-160">Field</span></span> | <span data-ttu-id="e24c9-161">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e24c9-161">Description</span></span> | <span data-ttu-id="e24c9-162">Empfohlener Wert</span><span class="sxs-lookup"><span data-stu-id="e24c9-162">Recommended Value</span></span> 
--- | --- | ---
<span data-ttu-id="e24c9-163">Name</span><span class="sxs-lookup"><span data-stu-id="e24c9-163">Name</span></span> | <span data-ttu-id="e24c9-164">Eindeutiger Wert, der die Anwendung identifiziert, für die Sie OAuth-Zugriff benötigen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-164">Unique value that identifies the application that you require OAuth access for.</span></span> | <span data-ttu-id="e24c9-165">Microsoft Search</span><span class="sxs-lookup"><span data-stu-id="e24c9-165">Microsoft Search</span></span>
<span data-ttu-id="e24c9-166">Client-ID</span><span class="sxs-lookup"><span data-stu-id="e24c9-166">Client ID</span></span> | <span data-ttu-id="e24c9-167">Eine schreibgeschützte, automatisch generierte eindeutige ID für die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="e24c9-167">A read-only, auto generated unique ID for the application.</span></span> <span data-ttu-id="e24c9-168">Die Instanz verwendet die Client-ID, wenn sie ein Zugriffstoken anfordert.</span><span class="sxs-lookup"><span data-stu-id="e24c9-168">The instance uses the client ID when it requests an access token.</span></span> | <span data-ttu-id="e24c9-169">NA</span><span class="sxs-lookup"><span data-stu-id="e24c9-169">NA</span></span>
<span data-ttu-id="e24c9-170">Geheimer Clientschlüssel</span><span class="sxs-lookup"><span data-stu-id="e24c9-170">Client secret</span></span> | <span data-ttu-id="e24c9-171">Mit dieser freigegebenen geheimen Zeichenfolge autorisieren die ServiceNow-Instanz und Microsoft Search die Kommunikation miteinander.</span><span class="sxs-lookup"><span data-stu-id="e24c9-171">With this shared secret string, the ServiceNow instance and Microsoft Search authorize communications with each other.</span></span> | <span data-ttu-id="e24c9-172">Befolgen Sie bewährte Methoden für die Sicherheit, indem Sie den geheimen Schlüssel als Kennwort behandeln.</span><span class="sxs-lookup"><span data-stu-id="e24c9-172">Follow security best-practices by treating the secret as a password.</span></span>
<span data-ttu-id="e24c9-173">Umleitungs-URL</span><span class="sxs-lookup"><span data-stu-id="e24c9-173">Redirect URL</span></span> | <span data-ttu-id="e24c9-174">Eine erforderliche Rückruf-URL, an die der Autorisierungsserver umleitet.</span><span class="sxs-lookup"><span data-stu-id="e24c9-174">A required callback URL that the authorization server redirects to.</span></span> | https://gcs.office.com/v1.0/admin/oauth/callback
<span data-ttu-id="e24c9-175">Logo-URL</span><span class="sxs-lookup"><span data-stu-id="e24c9-175">Logo URL</span></span> | <span data-ttu-id="e24c9-176">Eine URL, die das Bild für das Anwendungslogo enthält.</span><span class="sxs-lookup"><span data-stu-id="e24c9-176">A URL that contains the image for the application logo.</span></span> | <span data-ttu-id="e24c9-177">NA</span><span class="sxs-lookup"><span data-stu-id="e24c9-177">NA</span></span>
<span data-ttu-id="e24c9-178">Aktiv</span><span class="sxs-lookup"><span data-stu-id="e24c9-178">Active</span></span> | <span data-ttu-id="e24c9-179">Aktivieren Sie das Kontrollkästchen, um die Anwendungsregistrierung zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="e24c9-179">Select the check box to make the application registry active.</span></span> | <span data-ttu-id="e24c9-180">Auf "Aktiv" festgelegt</span><span class="sxs-lookup"><span data-stu-id="e24c9-180">Set to active</span></span>
<span data-ttu-id="e24c9-181">Aktualisierung der Tokenlebensdauer</span><span class="sxs-lookup"><span data-stu-id="e24c9-181">Refresh token lifespan</span></span> | <span data-ttu-id="e24c9-182">Die Anzahl der Sekunden, für die ein Aktualisierungstoken gültig ist.</span><span class="sxs-lookup"><span data-stu-id="e24c9-182">The number of seconds that a refresh token is valid.</span></span> <span data-ttu-id="e24c9-183">Standardmäßig laufen Aktualisierungstoken in 100 Tagen ab (8.640.000 Sekunden).</span><span class="sxs-lookup"><span data-stu-id="e24c9-183">By default, refresh tokens expire in 100 days (8,640,000 seconds).</span></span> | <span data-ttu-id="e24c9-184">31.536.000 (1 Jahr)</span><span class="sxs-lookup"><span data-stu-id="e24c9-184">31,536,000 (1 year)</span></span>
<span data-ttu-id="e24c9-185">Lebensdauer des Zugriffstokens</span><span class="sxs-lookup"><span data-stu-id="e24c9-185">Access token lifespan</span></span> | <span data-ttu-id="e24c9-186">Die Anzahl der Sekunden, für die ein Zugriffstoken gültig ist.</span><span class="sxs-lookup"><span data-stu-id="e24c9-186">The number of seconds that an access token is valid.</span></span> | <span data-ttu-id="e24c9-187">43.200 (12 Stunden)</span><span class="sxs-lookup"><span data-stu-id="e24c9-187">43,200 (12 hours)</span></span>

<span data-ttu-id="e24c9-188">Geben Sie die Client-ID und den geheimen Clientschlüssel ein, um eine Verbindung mit Ihrer Instanz herzustellen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-188">Enter the client id and client secret to connect to your instance.</span></span> <span data-ttu-id="e24c9-189">Verwenden Sie nach der Verbindung die Anmeldeinformationen eines ServiceNow-Kontos, um die Berechtigung zum Durchforsten zu authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="e24c9-189">After connecting, use a ServiceNow account credential to authenticate permission to crawl.</span></span> <span data-ttu-id="e24c9-190">Das Konto sollte mindestens über **eine Wissensrolle** verfügen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-190">The account should at least have **knowledge** role.</span></span> <span data-ttu-id="e24c9-191">Lesen Sie die Tabelle am Anfang von [Schritt 3: Verbindungseinstellungen,](#step-3-connection-settings) um Lesezugriff auf weitere ServiceNow-Tabelleneinträge und Berechtigungen für Indexbenutzerkriterien bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-191">Refer the table in the beginning of [step 3: connection settings](#step-3-connection-settings) for providing read access to more ServiceNow table records and index user criteria permissions.</span></span>

## <a name="step-33-azure-ad-openid-connect"></a><span data-ttu-id="e24c9-192">Schritt 3.3: Azure AD OpenID Verbinden</span><span class="sxs-lookup"><span data-stu-id="e24c9-192">Step 3.3: Azure AD OpenID Connect</span></span>

<span data-ttu-id="e24c9-193">Führen Sie die folgenden Schritte aus, um Azure AD OpenID Verbinden für die Authentifizierung zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="e24c9-193">To use Azure AD OpenID Connect for authentication, follow the steps below.</span></span>

### <a name="step-331-register-a-new-application-in-azure-active-directory"></a><span data-ttu-id="e24c9-194">Schritt 3.3.1: Registrieren einer neuen Anwendung in Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="e24c9-194">Step 3.3.1: Register a new application in Azure Active Directory</span></span>

<span data-ttu-id="e24c9-195">Informationen zum Registrieren einer neuen Anwendung in Azure Active Directory finden Sie unter [Registrieren einer Anwendung.](/azure/active-directory/develop/quickstart-register-app#register-an-application)</span><span class="sxs-lookup"><span data-stu-id="e24c9-195">To learn about registering a new application in Azure Active Directory, see [Register an application](/azure/active-directory/develop/quickstart-register-app#register-an-application).</span></span> <span data-ttu-id="e24c9-196">Wählen Sie ein Organisationsverzeichnis mit einem einzelnen Mandanten aus.</span><span class="sxs-lookup"><span data-stu-id="e24c9-196">Select single tenant organizational directory.</span></span> <span data-ttu-id="e24c9-197">Umleitungs-URI ist nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="e24c9-197">Redirect URI isn't needed.</span></span> <span data-ttu-id="e24c9-198">Notieren Sie sich nach der Registrierung die Anwendungs-ID (Client-)ID und die Verzeichnis-ID (Mandanten-ID).</span><span class="sxs-lookup"><span data-stu-id="e24c9-198">After registration, note down the Application (client) ID and Directory (tenant) ID.</span></span>

### <a name="step-332-create-a-client-secret"></a><span data-ttu-id="e24c9-199">Schritt 3.3.2: Erstellen eines geheimen Clientschlüssels</span><span class="sxs-lookup"><span data-stu-id="e24c9-199">Step 3.3.2: Create a client secret</span></span>

<span data-ttu-id="e24c9-200">Informationen zum Erstellen eines geheimen Clientschlüssels finden Sie unter [Erstellen eines geheimen Clientschlüssels.](/azure/active-directory/develop/quickstart-register-app#add-a-client-secret)</span><span class="sxs-lookup"><span data-stu-id="e24c9-200">To learn about creating a client secret, see [Creating a client secret](/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span></span> <span data-ttu-id="e24c9-201">Notieren Sie sich den geheimen Clientschlüssel.</span><span class="sxs-lookup"><span data-stu-id="e24c9-201">Take a note of client secret.</span></span>

### <a name="step-333-retrieve-service-principal-object-identifier"></a><span data-ttu-id="e24c9-202">Schritt 3.3.3: Abrufen des Dienstprinzipalobjektbezeichners</span><span class="sxs-lookup"><span data-stu-id="e24c9-202">Step 3.3.3: Retrieve Service Principal Object Identifier</span></span>

<span data-ttu-id="e24c9-203">Führen Sie die Schritte zum Abrufen des Dienstprinzipalobjektbezeichners aus.</span><span class="sxs-lookup"><span data-stu-id="e24c9-203">Follow the steps to retrieve Service Principal Object Identifier</span></span>

1. <span data-ttu-id="e24c9-204">Führen Sie PowerShell aus.</span><span class="sxs-lookup"><span data-stu-id="e24c9-204">Run PowerShell.</span></span>

2. <span data-ttu-id="e24c9-205">Installieren Sie Azure PowerShell mit dem folgenden Befehl.</span><span class="sxs-lookup"><span data-stu-id="e24c9-205">Install Azure PowerShell using the following command.</span></span>

   ```powershell
   Install-Module -Name Az -AllowClobber -Scope CurrentUser
   ```

3. <span data-ttu-id="e24c9-206">Verbinden zu Azure.</span><span class="sxs-lookup"><span data-stu-id="e24c9-206">Connect to Azure.</span></span>

   ```powershell
   Connect-AzAccount
   ```

4. <span data-ttu-id="e24c9-207">Dient zum Abrufen des Dienstprinzipalobjektbezeichners.</span><span class="sxs-lookup"><span data-stu-id="e24c9-207">Get Service Principal Object Identifier.</span></span>

   ```powershell
   Get-AzADServicePrincipal -ApplicationId "Application-ID"
   ```
   <span data-ttu-id="e24c9-208">Ersetzen Sie "Application-ID" durch die Anwendungs-ID (Client)-ID (ohne Anführungszeichen) der Anwendung, die Sie in Schritt 3.a registriert haben.</span><span class="sxs-lookup"><span data-stu-id="e24c9-208">Replace "Application-ID" with Application (client) ID (without quotes) of the application you registered in step 3.a.</span></span> <span data-ttu-id="e24c9-209">Beachten Sie den Wert des ID-Objekts aus der PowerShell-Ausgabe.</span><span class="sxs-lookup"><span data-stu-id="e24c9-209">Note the value of ID object from PowerShell output.</span></span> <span data-ttu-id="e24c9-210">Dies ist die Dienstprinzipal-ID.</span><span class="sxs-lookup"><span data-stu-id="e24c9-210">It's the Service Principal ID.</span></span>

<span data-ttu-id="e24c9-211">Jetzt verfügen Sie über alle erforderlichen Informationen aus dem Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="e24c9-211">Now you have all the information required from Azure portal.</span></span> <span data-ttu-id="e24c9-212">Eine kurze Zusammenfassung der Informationen finden Sie in der folgenden Tabelle.</span><span class="sxs-lookup"><span data-stu-id="e24c9-212">A quick summary of the information is given in the table below.</span></span>

<span data-ttu-id="e24c9-213">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="e24c9-213">Property</span></span> | <span data-ttu-id="e24c9-214">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e24c9-214">Description</span></span> 
--- | ---
<span data-ttu-id="e24c9-215">Verzeichnis-ID (Mandanten-ID)</span><span class="sxs-lookup"><span data-stu-id="e24c9-215">Directory ID (Tenant ID)</span></span> | <span data-ttu-id="e24c9-216">Eindeutige ID des Azure Active Directory Mandanten aus Schritt 3.a.</span><span class="sxs-lookup"><span data-stu-id="e24c9-216">Unique ID of the Azure Active Directory tenant, from step 3.a.</span></span>
<span data-ttu-id="e24c9-217">Anwendungs-ID (Client-ID)</span><span class="sxs-lookup"><span data-stu-id="e24c9-217">Application ID (Client ID)</span></span> | <span data-ttu-id="e24c9-218">Eindeutige ID der in Schritt 3.a registrierten Anwendung.</span><span class="sxs-lookup"><span data-stu-id="e24c9-218">Unique ID of the application registered in step 3.a.</span></span>
<span data-ttu-id="e24c9-219">Geheimer Clientschlüssel</span><span class="sxs-lookup"><span data-stu-id="e24c9-219">Client Secret</span></span> | <span data-ttu-id="e24c9-220">Der geheime Schlüssel der Anwendung (aus Schritt 3.b).</span><span class="sxs-lookup"><span data-stu-id="e24c9-220">The secret key of the application (from step 3.b).</span></span> <span data-ttu-id="e24c9-221">Behandeln Sie es wie ein Kennwort.</span><span class="sxs-lookup"><span data-stu-id="e24c9-221">Treat it like a password.</span></span>
<span data-ttu-id="e24c9-222">Dienstprinzipal-ID</span><span class="sxs-lookup"><span data-stu-id="e24c9-222">Service Principal ID</span></span> | <span data-ttu-id="e24c9-223">Eine Identität für die Anwendung, die als Dienst ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="e24c9-223">An identity for the application running as a service.</span></span> <span data-ttu-id="e24c9-224">(aus Schritt 3.c)</span><span class="sxs-lookup"><span data-stu-id="e24c9-224">(from step 3.c)</span></span>

### <a name="step-334-register-servicenow-application"></a><span data-ttu-id="e24c9-225">Schritt 3.3.4: Registrieren der ServiceNow-Anwendung</span><span class="sxs-lookup"><span data-stu-id="e24c9-225">Step 3.3.4: Register ServiceNow Application</span></span>

<span data-ttu-id="e24c9-226">Die ServiceNow-Instanz benötigt die folgende Konfiguration:</span><span class="sxs-lookup"><span data-stu-id="e24c9-226">The ServiceNow instance needs the following configuration:</span></span>

1. <span data-ttu-id="e24c9-227">Registrieren Sie eine neue OAuth OIDC-Entität.</span><span class="sxs-lookup"><span data-stu-id="e24c9-227">Register a new OAuth OIDC entity.</span></span> <span data-ttu-id="e24c9-228">Weitere Informationen finden Sie unter [Erstellen eines OAuth OIDC-Anbieters.](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html)</span><span class="sxs-lookup"><span data-stu-id="e24c9-228">To learn, see [Create an OAuth OIDC provider](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span></span>

2. <span data-ttu-id="e24c9-229">Die folgende Tabelle enthält Anleitungen zum Ausfüllen des OIDC-Anbieterregistrierungsformulars.</span><span class="sxs-lookup"><span data-stu-id="e24c9-229">The following table provides guidance on how to fill out OIDC provider registration form</span></span>

   <span data-ttu-id="e24c9-230">Feld</span><span class="sxs-lookup"><span data-stu-id="e24c9-230">Field</span></span> | <span data-ttu-id="e24c9-231">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e24c9-231">Description</span></span> | <span data-ttu-id="e24c9-232">Empfohlener Wert</span><span class="sxs-lookup"><span data-stu-id="e24c9-232">Recommended Value</span></span>
   --- | --- | ---
   <span data-ttu-id="e24c9-233">Name</span><span class="sxs-lookup"><span data-stu-id="e24c9-233">Name</span></span> | <span data-ttu-id="e24c9-234">Ein eindeutiger Name, der die OAuth OIDC-Entität identifiziert.</span><span class="sxs-lookup"><span data-stu-id="e24c9-234">A unique name that identifies the OAuth OIDC entity.</span></span> | <span data-ttu-id="e24c9-235">Azure AD</span><span class="sxs-lookup"><span data-stu-id="e24c9-235">Azure AD</span></span>
   <span data-ttu-id="e24c9-236">Client-ID</span><span class="sxs-lookup"><span data-stu-id="e24c9-236">Client ID</span></span> | <span data-ttu-id="e24c9-237">Die Client-ID der Anwendung, die auf dem OAuth OIDC-Server eines Drittanbieters registriert ist.</span><span class="sxs-lookup"><span data-stu-id="e24c9-237">The client ID of the application registered in the third-party OAuth OIDC server.</span></span> <span data-ttu-id="e24c9-238">Die Instanz verwendet die Client-ID beim Anfordern eines Zugriffstokens.</span><span class="sxs-lookup"><span data-stu-id="e24c9-238">The instance uses the client ID when requesting an access token.</span></span> | <span data-ttu-id="e24c9-239">Anwendungs-ID (Client) aus Schritt 3.a</span><span class="sxs-lookup"><span data-stu-id="e24c9-239">Application (Client) ID from step 3.a</span></span>
   <span data-ttu-id="e24c9-240">Geheimer Clientschlüssel</span><span class="sxs-lookup"><span data-stu-id="e24c9-240">Client Secret</span></span> | <span data-ttu-id="e24c9-241">Der geheime Clientschlüssel der Anwendung, die auf dem OAuth OIDC-Server eines Drittanbieters registriert ist.</span><span class="sxs-lookup"><span data-stu-id="e24c9-241">The client secret of the application registered in the third-party OAuth OIDC server.</span></span> | <span data-ttu-id="e24c9-242">Geheimer Clientschlüssel aus Schritt 3.b</span><span class="sxs-lookup"><span data-stu-id="e24c9-242">Client Secret from step 3.b</span></span>

   <span data-ttu-id="e24c9-243">Alle anderen Werte können standard sein.</span><span class="sxs-lookup"><span data-stu-id="e24c9-243">All other values can be default.</span></span>

3. <span data-ttu-id="e24c9-244">Im OIDC-Anbieterregistrierungsformular müssen Sie eine neue OIDC-Anbieterkonfiguration hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-244">In the OIDC provider registration form, you need to add a new OIDC provider configuration.</span></span> <span data-ttu-id="e24c9-245">Wählen Sie das Suchsymbol für das *OAuth OIDC-Anbieterkonfigurationsfeld* aus, um die Datensätze der OIDC-Konfigurationen zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-245">Select the search icon against *OAuth OIDC Provider Configuration* field to open the records of OIDC configurations.</span></span> <span data-ttu-id="e24c9-246">Wählen Sie "Neu" aus.</span><span class="sxs-lookup"><span data-stu-id="e24c9-246">Select New.</span></span>

4. <span data-ttu-id="e24c9-247">Die folgende Tabelle enthält Anleitungen zum Ausfüllen des OIDC-Anbieterkonfigurationsformulars.</span><span class="sxs-lookup"><span data-stu-id="e24c9-247">The following table provides guidance on how to fill out OIDC provider configuration form</span></span>

   <span data-ttu-id="e24c9-248">Feld</span><span class="sxs-lookup"><span data-stu-id="e24c9-248">Field</span></span> | <span data-ttu-id="e24c9-249">Empfohlener Wert</span><span class="sxs-lookup"><span data-stu-id="e24c9-249">Recommended Value</span></span>
   --- | ---
   <span data-ttu-id="e24c9-250">OIDC-Anbieter</span><span class="sxs-lookup"><span data-stu-id="e24c9-250">OIDC Provider</span></span> |  <span data-ttu-id="e24c9-251">Azure AD</span><span class="sxs-lookup"><span data-stu-id="e24c9-251">Azure AD</span></span>
   <span data-ttu-id="e24c9-252">OIDC-Metadaten-URL</span><span class="sxs-lookup"><span data-stu-id="e24c9-252">OIDC Metadata URL</span></span> | <span data-ttu-id="e24c9-253">Die URL muss das Format https \: ://login.microsoftonline.com/<tenandId">/.well-known/openid-configuration aufweisen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-253">The URL must be in the form https\://login.microsoftonline.com/<tenandId">/.well-known/openid-configuration</span></span> <br/><span data-ttu-id="e24c9-254">Ersetzen Sie "tenantID" durch die Verzeichnis-ID (Mandanten-ID) aus Schritt 3.a.</span><span class="sxs-lookup"><span data-stu-id="e24c9-254">Replace "tenantID" with Directory (tenant) ID from step 3.a.</span></span>
   <span data-ttu-id="e24c9-255">Lebensdauer des OIDC-Konfigurationscaches</span><span class="sxs-lookup"><span data-stu-id="e24c9-255">OIDC Configuration Cache Life Span</span></span> |  <span data-ttu-id="e24c9-256">120</span><span class="sxs-lookup"><span data-stu-id="e24c9-256">120</span></span>
   <span data-ttu-id="e24c9-257">Anwendung</span><span class="sxs-lookup"><span data-stu-id="e24c9-257">Application</span></span> | <span data-ttu-id="e24c9-258">Global</span><span class="sxs-lookup"><span data-stu-id="e24c9-258">Global</span></span>
   <span data-ttu-id="e24c9-259">Benutzeranspruch</span><span class="sxs-lookup"><span data-stu-id="e24c9-259">User Claim</span></span> | <span data-ttu-id="e24c9-260">Sub</span><span class="sxs-lookup"><span data-stu-id="e24c9-260">sub</span></span>
   <span data-ttu-id="e24c9-261">Benutzerfeld</span><span class="sxs-lookup"><span data-stu-id="e24c9-261">User Field</span></span> | <span data-ttu-id="e24c9-262">Benutzer-ID</span><span class="sxs-lookup"><span data-stu-id="e24c9-262">User ID</span></span>
   <span data-ttu-id="e24c9-263">Aktivieren der JTI-Anspruchsüberprüfung</span><span class="sxs-lookup"><span data-stu-id="e24c9-263">Enable JTI claim verification</span></span> | <span data-ttu-id="e24c9-264">Deaktiviert</span><span class="sxs-lookup"><span data-stu-id="e24c9-264">Disabled</span></span>

5. <span data-ttu-id="e24c9-265">Wählen Sie "Absenden und Aktualisieren des OAuth OIDC-Entitätsformulars" aus.</span><span class="sxs-lookup"><span data-stu-id="e24c9-265">Select Submit and Update the OAuth OIDC Entity form.</span></span>

### <a name="step-335-create-a-servicenow-account"></a><span data-ttu-id="e24c9-266">Schritt 3.3.5: Erstellen eines ServiceNow-Kontos</span><span class="sxs-lookup"><span data-stu-id="e24c9-266">Step 3.3.5: Create a ServiceNow account</span></span>

<span data-ttu-id="e24c9-267">Lesen Sie die Anweisungen, um ein ServiceNow-Konto zu erstellen und [einen Benutzer in ServiceNow zu erstellen.](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html)</span><span class="sxs-lookup"><span data-stu-id="e24c9-267">Refer the instructions to create a ServiceNow account, [create a user in ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span></span>

<span data-ttu-id="e24c9-268">Die folgende Tabelle enthält Anleitungen zum Ausfüllen der Registrierung des ServiceNow-Benutzerkontos.</span><span class="sxs-lookup"><span data-stu-id="e24c9-268">The following table provides guidance on how to fill out the ServiceNow user account registration</span></span>

<span data-ttu-id="e24c9-269">Feld</span><span class="sxs-lookup"><span data-stu-id="e24c9-269">Field</span></span> | <span data-ttu-id="e24c9-270">Empfohlener Wert</span><span class="sxs-lookup"><span data-stu-id="e24c9-270">Recommended Value</span></span>
--- | ---
<span data-ttu-id="e24c9-271">Benutzer-ID</span><span class="sxs-lookup"><span data-stu-id="e24c9-271">User ID</span></span> | <span data-ttu-id="e24c9-272">Dienstprinzipal-ID aus Schritt 3.c</span><span class="sxs-lookup"><span data-stu-id="e24c9-272">Service Principal ID from step 3.c</span></span>
<span data-ttu-id="e24c9-273">Nur Webdienstzugriff</span><span class="sxs-lookup"><span data-stu-id="e24c9-273">Web service access only</span></span> | <span data-ttu-id="e24c9-274">Checked</span><span class="sxs-lookup"><span data-stu-id="e24c9-274">Checked</span></span>

<span data-ttu-id="e24c9-275">Alle anderen Werte können auf den Standardwert festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="e24c9-275">All other values can be left to default.</span></span>

### <a name="step-336-enable-knowledge-role-for-the-servicenow-account"></a><span data-ttu-id="e24c9-276">Schritt 3.3.6: Aktivieren der Wissensrolle für das ServiceNow-Konto</span><span class="sxs-lookup"><span data-stu-id="e24c9-276">Step 3.3.6: Enable Knowledge role for the ServiceNow account</span></span>

<span data-ttu-id="e24c9-277">Greifen Sie auf das ServiceNow-Konto zu, das Sie mit der ServiceNow-Prinzipal-ID als Benutzer-ID erstellt haben, und weisen Sie die Wissensrolle zu.</span><span class="sxs-lookup"><span data-stu-id="e24c9-277">Access the ServiceNow account you created with ServiceNow Principal ID as User ID and assign the knowledge role.</span></span> <span data-ttu-id="e24c9-278">Anweisungen zum Zuweisen einer Rolle zu einem ServiceNow-Konto finden Sie hier. [Weisen Sie einem Benutzer eine Rolle zu.](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html)</span><span class="sxs-lookup"><span data-stu-id="e24c9-278">Instructions to assigning a role to a ServiceNow account can be found here, [assign a role to a user](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span> <span data-ttu-id="e24c9-279">Lesen Sie die Tabelle am Anfang von [Schritt 3: Verbindungseinstellungen,](#step-3-connection-settings) um Lesezugriff auf weitere ServiceNow-Tabelleneinträge und Berechtigungen für Indexbenutzerkriterien bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-279">Refer the table in the beginning of [step 3: connection settings](#step-3-connection-settings) for providing read access to more ServiceNow table records and index user criteria permissions.</span></span>

<span data-ttu-id="e24c9-280">Verwenden Sie die Anwendungs-ID als Client-ID (aus Schritt 3.a) und den geheimen Clientschlüssel (aus Schritt 3.b) im Admin Center-Konfigurations-Assistenten, um sich mithilfe von Azure AD OpenID Verbinden bei Ihrer ServiceNow-Instanz zu authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="e24c9-280">Use Application ID as Client ID (from step 3.a), and Client secret (from step 3.b) in admin center configuration wizard to authenticate to your ServiceNow instance using Azure AD OpenID Connect.</span></span>

## <a name="step-4-select-properties-and-filter-data"></a><span data-ttu-id="e24c9-281">Schritt 4: Auswählen von Eigenschaften und Filtern von Daten</span><span class="sxs-lookup"><span data-stu-id="e24c9-281">Step 4: Select properties and filter data</span></span>

<span data-ttu-id="e24c9-282">In diesem Schritt können Sie der ServiceNow-Datenquelle verfügbare Eigenschaften hinzufügen oder daraus entfernen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-282">In this step, you can add or remove available properties from your ServiceNow data source.</span></span> <span data-ttu-id="e24c9-283">Microsoft 365 einige Eigenschaften standardmäßig bereits ausgewählt hat.</span><span class="sxs-lookup"><span data-stu-id="e24c9-283">Microsoft 365 has already selected few properties by default.</span></span>

<span data-ttu-id="e24c9-284">Mit einer ServiceNow-Abfragezeichenfolge können Sie Bedingungen für die Synchronisierung von Artikeln angeben.</span><span class="sxs-lookup"><span data-stu-id="e24c9-284">With a ServiceNow query string, you can specify conditions for syncing articles.</span></span> <span data-ttu-id="e24c9-285">Es ist wie eine **Where-Klausel** in einer **SQL Select-Anweisung.**</span><span class="sxs-lookup"><span data-stu-id="e24c9-285">It's like a **Where** clause in a **SQL Select** statement.</span></span> <span data-ttu-id="e24c9-286">Sie können z. B. festlegen, dass nur Artikel indiziert werden, die veröffentlicht und aktiv sind.</span><span class="sxs-lookup"><span data-stu-id="e24c9-286">For example, you can choose to index only articles that are published and active.</span></span> <span data-ttu-id="e24c9-287">Informationen zum Erstellen einer eigenen Abfragezeichenfolge finden Sie unter [Generieren einer codierten Abfragezeichenfolge mithilfe eines Filters.](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html)</span><span class="sxs-lookup"><span data-stu-id="e24c9-287">To learn about creating your own query string, see [Generate an encoded query string using a filter](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span></span>

<span data-ttu-id="e24c9-288">Verwenden Sie die Schaltfläche "Vorschauergebnisse", um die Beispielwerte der ausgewählten Eigenschaften und des Abfragefilters zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-288">Use the preview results button to verify the sample values of the selected properties and query filter.</span></span>

## <a name="step-5-manage-search-permissions"></a><span data-ttu-id="e24c9-289">Schritt 5: Verwalten von Suchberechtigungen</span><span class="sxs-lookup"><span data-stu-id="e24c9-289">Step 5: Manage search permissions</span></span>

<span data-ttu-id="e24c9-290">Der ServiceNow-Connector unterstützt Suchberechtigungen, die **für alle** oder nur Personen mit Zugriff auf **diese Datenquelle** sichtbar sind.</span><span class="sxs-lookup"><span data-stu-id="e24c9-290">The ServiceNow connector supports search permissions visible to **Everyone** or **Only people with access to this data source**.</span></span> <span data-ttu-id="e24c9-291">Indizierte Daten werden in den Suchergebnissen angezeigt und sind für alle Benutzer in der Organisation bzw. für Benutzer sichtbar, die über die Berechtigung für Benutzerkriterien darauf zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="e24c9-291">Indexed data appears in the search results and is visible to all users in the organization or users who have access to them via user criteria permission respectively.</span></span> <span data-ttu-id="e24c9-292">Wenn ein Wissensartikel nicht mit einem Benutzerkriterium aktiviert ist, wird er in den Suchergebnissen aller Benutzer in der Organisation angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e24c9-292">If a knowledge article is not enabled with a user criteria, it will appear in search results of everyone in the organization.</span></span>

<span data-ttu-id="e24c9-293">ServiceNow Graph Connector unterstützt standardmäßige Berechtigungen für Benutzerkriterien ohne erweiterte Skripts.</span><span class="sxs-lookup"><span data-stu-id="e24c9-293">ServiceNow Graph Connector supports default user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="e24c9-294">Wenn der Connector auf ein Benutzerkriterium mit erweitertem Skript trifft, werden nicht alle Daten, die diese Benutzerkriterien verwenden, in den Suchergebnissen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e24c9-294">When the connector encounters a user criteria with advanced script, all data using that user criteria will not appear in search results.</span></span>

>[!NOTE]
><span data-ttu-id="e24c9-295">Um **nur Personen mit Zugriff auf diese Datenquelle** auszuwählen, aktivieren Sie gezielte Versionsupdates für Ihren Mandanten.</span><span class="sxs-lookup"><span data-stu-id="e24c9-295">To choose **Only people with access to this data source**, enable targeted release updates on your tenant.</span></span> <span data-ttu-id="e24c9-296">Weitere Informationen zum Einrichten einer gezielten Version finden Sie unter [Setup Targeted release options.](/microsoft-365/admin/manage/release-options-in-office-365?preserve-view=true&view=o365-worldwide)</span><span class="sxs-lookup"><span data-stu-id="e24c9-296">To learn about setting up targeted release, see [Setup Targeted release options.](/microsoft-365/admin/manage/release-options-in-office-365?preserve-view=true&view=o365-worldwide)</span></span>

<span data-ttu-id="e24c9-297">Wenn Sie **nur Personen mit Zugriff auf diese Datenquelle** auswählen, müssen Sie weiter auswählen, ob Ihre ServiceNow-Instanz über Azure Active Directory (AAD) bereitgestellte Benutzer oder Nicht-AAD-Benutzer verfügt.</span><span class="sxs-lookup"><span data-stu-id="e24c9-297">If you choose **Only people with access to this data source**, you need to further choose whether your ServiceNow instance has Azure Active Directory (AAD) provisioned users or Non-AAD users.</span></span>

>[!NOTE]
><span data-ttu-id="e24c9-298">Wenn Sie AAD als Typ der Identitätsquelle auswählen, stellen Sie sicher, dass Sie userPrincipalName (UPN)-Quelleigenschaft E-Mail-Zieleigenschaft in ServiceNow zuweisen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-298">If you choose AAD as the type of identity source, make sure you are assigning UserPrincipalName (UPN) source property to email targeted property in ServiceNow.</span></span> <span data-ttu-id="e24c9-299">Informationen zum Überprüfen oder Ändern Ihrer Zuordnungen finden Sie unter [Customizing user provisioning attribute-mappings for SaaS applications in Azure Active Directory](/azure/active-directory/app-provisioning/customize-application-attributes).</span><span class="sxs-lookup"><span data-stu-id="e24c9-299">To verify or change your mappings, see [Customizing user provisioning attribute-mappings for SaaS applications in Azure Active Directory](/azure/active-directory/app-provisioning/customize-application-attributes).</span></span>

<span data-ttu-id="e24c9-300">Wenn Sie "nicht-AAD" für den Identitätstyp gewählt haben, finden Sie anweisungen zum Zuordnen der Identitäten zu [Ihren Nicht-Azure AD-Identitäten.](map-non-aad.md)</span><span class="sxs-lookup"><span data-stu-id="e24c9-300">If you have elected "non-AAD" for the identity type see [Map your non-Azure AD Identities](map-non-aad.md) for instructions on mapping the identities.</span></span> 

<span data-ttu-id="e24c9-301">Weitere Informationen zum Verwalten von Suchberechtigungen finden Sie auch im folgenden Video.</span><span class="sxs-lookup"><span data-stu-id="e24c9-301">You can also refer the following video to learn more about managing search permissions.</span></span>

<span data-ttu-id="e24c9-302">[![Verwalten von Suchberechtigungen in Microsoft Graph Connector für ServiceNow](https://img.youtube.com/vi/TVSkJpk1RiE/hqdefault.jpg)](https://www.youtube.com/watch?v=TVSkJpk1RiE)</span><span class="sxs-lookup"><span data-stu-id="e24c9-302">[![Managing Search Permissions in Microsoft Graph Connector for ServiceNow](https://img.youtube.com/vi/TVSkJpk1RiE/hqdefault.jpg)](https://www.youtube.com/watch?v=TVSkJpk1RiE)</span></span>

## <a name="step-6-assign-property-labels"></a><span data-ttu-id="e24c9-303">Schritt 6: Zuweisen von Eigenschaftenbeschriftungen</span><span class="sxs-lookup"><span data-stu-id="e24c9-303">Step 6: Assign property labels</span></span>

<span data-ttu-id="e24c9-304">Befolgen Sie die allgemeinen Setupanweisungen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-304">Follow the general setup instructions.</span></span>

## <a name="step-7-manage-schema"></a><span data-ttu-id="e24c9-305">Schritt 7: Verwalten des Schemas</span><span class="sxs-lookup"><span data-stu-id="e24c9-305">Step 7: Manage schema</span></span>

<span data-ttu-id="e24c9-306">Befolgen Sie die allgemeinen Setupanweisungen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-306">Follow the general setup instructions.</span></span>

## <a name="step-8-choose-refresh-settings"></a><span data-ttu-id="e24c9-307">Schritt 8: Auswählen von Aktualisierungseinstellungen</span><span class="sxs-lookup"><span data-stu-id="e24c9-307">Step 8: Choose refresh settings</span></span>

<span data-ttu-id="e24c9-308">Befolgen Sie die allgemeinen Setupanweisungen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-308">Follow the general setup instructions.</span></span>

>[!NOTE]
><span data-ttu-id="e24c9-309">Für Identitäten wird nur die geplante vollständige Durchforstung angewendet.</span><span class="sxs-lookup"><span data-stu-id="e24c9-309">For identities, only full crawl scheduled will be applied.</span></span>

## <a name="step-9-review-connection"></a><span data-ttu-id="e24c9-310">Schritt 9: Überprüfen der Verbindung</span><span class="sxs-lookup"><span data-stu-id="e24c9-310">Step 9: Review Connection</span></span>

<span data-ttu-id="e24c9-311">Folgen Sie den allgemeinen [Setupanweisungen.](./configure-connector.md)</span><span class="sxs-lookup"><span data-stu-id="e24c9-311">Follow the general [setup instructions](./configure-connector.md).</span></span>

<span data-ttu-id="e24c9-312">ServiceNow Graph Connector hat die folgenden Einschränkungen in seiner neuesten Version:</span><span class="sxs-lookup"><span data-stu-id="e24c9-312">ServiceNow Graph connector has the following limitations in its latest release:</span></span>

<span data-ttu-id="e24c9-313">Nach der Veröffentlichung der Verbindung müssen Sie die Suchergebnisseite anpassen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-313">After publishing the connection, you need to customize the search results page.</span></span> <span data-ttu-id="e24c9-314">Informationen zum Anpassen von Suchergebnissen finden Sie unter [Anpassen der Suchergebnisseite.](/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page)</span><span class="sxs-lookup"><span data-stu-id="e24c9-314">To learn about customizing search results, see [Customize the search results page](/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span></span>

## <a name="limitations"></a><span data-ttu-id="e24c9-315">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="e24c9-315">Limitations</span></span>
<span data-ttu-id="e24c9-316">ServiceNow Graph Connector hat die folgenden Einschränkungen in seiner neuesten Version:</span><span class="sxs-lookup"><span data-stu-id="e24c9-316">ServiceNow Graph connector has the following limitations in its latest release:</span></span>
- <span data-ttu-id="e24c9-317">Die Indizierung von Wissensartikeln, die für alle Personen in einer Organisation verfügbar sind, ist ein allgemein verfügbares Feature.</span><span class="sxs-lookup"><span data-stu-id="e24c9-317">Indexing knowledge articles available to everyone in an organization is a generally available feature.</span></span>
- <span data-ttu-id="e24c9-318">*Nur Personen mit Zugriff auf dieses Datenquellenfeature* unter Schritt "Suchberechtigungen verwalten" befinden sich im kanal für die gezielte Freigabe und verarbeiten nur [Benutzerkriterienberechtigungen.](https://hi.service-now.com/kb_view.do?sysparm_article=KB0550924)</span><span class="sxs-lookup"><span data-stu-id="e24c9-318">*Only people with access to this data source* feature under Manage Search permissions step is in targeted release channel and processes only [user criteria](https://hi.service-now.com/kb_view.do?sysparm_article=KB0550924) permissions.</span></span> <span data-ttu-id="e24c9-319">Andere Zugriffsberechtigungstypen werden in den Suchergebnissen nicht angewendet.</span><span class="sxs-lookup"><span data-stu-id="e24c9-319">Any other type of access permissions will not be applied in the search results.</span></span>
- <span data-ttu-id="e24c9-320">Benutzerkriterien mit erweiterten Skripts werden in der aktuellen Version nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e24c9-320">User criteria with advanced scripts are not supported in the current version.</span></span> <span data-ttu-id="e24c9-321">Alle Wissensartikel mit einer solchen Zugriffseinschränkung werden indiziert, wobei jeder Zugriff verweigert wird, d. h. sie werden keinem Benutzer in den Suchergebnissen angezeigt, bis wir sie unterstützen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-321">Any knowledge articles with such an access restriction will be indexed with deny everyone access i.e. they will not appear in search results to any user until we support them.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="e24c9-322">Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="e24c9-322">Troubleshooting</span></span>
<span data-ttu-id="e24c9-323">Nachdem Sie Ihre Verbindung veröffentlicht und die Ergebnisseite angepasst haben, können Sie den Status auf der Registerkarte **"Datenquellen"** im [Admin Center](https://admin.microsoft.com)überprüfen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-323">After publishing your connection, customizing the results page, you can review the status under the **Data Sources** tab in the [admin center](https://admin.microsoft.com).</span></span> <span data-ttu-id="e24c9-324">Informationen zum Vornehmen von Aktualisierungen und Löschungen finden Sie unter [Verwalten des Connectors.](manage-connector.md)</span><span class="sxs-lookup"><span data-stu-id="e24c9-324">To learn how to make updates and deletions, see [Manage your connector](manage-connector.md).</span></span>
<span data-ttu-id="e24c9-325">Die Schritte zur Problembehandlung für häufig auftretende Probleme finden Sie weiter unten.</span><span class="sxs-lookup"><span data-stu-id="e24c9-325">You can find troubleshooting steps for commonly seen issues below.</span></span>
### <a name="1-unable-to-login-due-to-single-sign-on-enabled-servicenow-instance"></a><span data-ttu-id="e24c9-326">1. Anmeldung aufgrund einer einzelnen Sign-On aktivierten ServiceNow-Instanz nicht möglich</span><span class="sxs-lookup"><span data-stu-id="e24c9-326">1. Unable to login due to Single Sign-On enabled ServiceNow instance</span></span>

<span data-ttu-id="e24c9-327">Wenn Ihre Organisation Single Sign-On (SSO) für ServiceNow aktiviert hat, haben Sie möglicherweise Probleme bei der Anmeldung mit dem Dienstkonto.</span><span class="sxs-lookup"><span data-stu-id="e24c9-327">If your organization has enabled Single Sign-On (SSO) to ServiceNow, you may have trouble logging in with the service account.</span></span> <span data-ttu-id="e24c9-328">Sie können benutzernamen- und kennwortbasierte <em> `login.do` </em> Anmeldungen aufrufen, indem Sie die Url der ServiceNow-Instanz hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-328">You can bring up username and password based login by adding <em> `login.do`</em> to the ServiceNow instance URL.</span></span> <span data-ttu-id="e24c9-329">Beispiel.</span><span class="sxs-lookup"><span data-stu-id="e24c9-329">Example.</span></span> `https://<your-organization-domain>.service-now.com./login.do` 

### <a name="2-unauthorized-or-forbidden-response-to-api-request"></a><span data-ttu-id="e24c9-330">2. Nicht autorisierte oder unzulässige Antwort auf API-Anforderung</span><span class="sxs-lookup"><span data-stu-id="e24c9-330">2. Unauthorized or forbidden response to API request</span></span>

#### <a name="21-check-table-access-permissions"></a><span data-ttu-id="e24c9-331">2.1.</span><span class="sxs-lookup"><span data-stu-id="e24c9-331">2.1.</span></span> <span data-ttu-id="e24c9-332">Überprüfen von Tabellenzugriffsberechtigungen</span><span class="sxs-lookup"><span data-stu-id="e24c9-332">Check table access permissions</span></span>
<span data-ttu-id="e24c9-333">Wenn im Verbindungsstatus eine unzulässige oder nicht autorisierte Antwort angezeigt wird, überprüfen Sie, ob das Dienstkonto Zugriff auf die in [Schritt 3: Verbindungseinstellungen](#step-3-connection-settings)erwähnten Tabellen benötigt.</span><span class="sxs-lookup"><span data-stu-id="e24c9-333">If you see forbidden or unauthorized response in connection status, check if the service account has required access to the tables mentioned in [step 3: connection settings](#step-3-connection-settings).</span></span> <span data-ttu-id="e24c9-334">Überprüfen Sie, ob alle Spalten in den Tabellen Lesezugriff haben.</span><span class="sxs-lookup"><span data-stu-id="e24c9-334">Please check whether all the columns in the tables have read access.</span></span>

#### <a name="22-check-if-servicenow-instance-behind-firewall"></a><span data-ttu-id="e24c9-335">2.2.</span><span class="sxs-lookup"><span data-stu-id="e24c9-335">2.2.</span></span> <span data-ttu-id="e24c9-336">Überprüfen, ob die ServiceNow-Instanz hinter der Firewall liegt</span><span class="sxs-lookup"><span data-stu-id="e24c9-336">Check if ServiceNow instance behind firewall</span></span>
<span data-ttu-id="e24c9-337">Graph Der Connector kann Ihre ServiceNow-Instanz möglicherweise nicht erreichen, wenn er sich hinter einer Netzwerkfirewall befindet.</span><span class="sxs-lookup"><span data-stu-id="e24c9-337">Graph Connector may not be able to reach your ServiceNow instance if it is behind a network firewall.</span></span> <span data-ttu-id="e24c9-338">Sie müssen den Zugriff auf Graph Connector-Dienst explizit zulassen.</span><span class="sxs-lookup"><span data-stu-id="e24c9-338">You will need explicitly allow access to Graph Connector service.</span></span> <span data-ttu-id="e24c9-339">Den öffentlichen IP-Adressbereich Graph Connector Service finden Sie in der folgenden Tabelle.</span><span class="sxs-lookup"><span data-stu-id="e24c9-339">You can find public IP address range of Graph Connector Service in the table below.</span></span> <span data-ttu-id="e24c9-340">Fügen Sie sie basierend auf Ihrer Mandantenregion der Whitelist des ServiceNow-Instanznetzwerks hinzu.</span><span class="sxs-lookup"><span data-stu-id="e24c9-340">Based on your tenant region, add it to your ServiceNow instance network whitelist.</span></span>

<span data-ttu-id="e24c9-341">**Umgebung**</span><span class="sxs-lookup"><span data-stu-id="e24c9-341">**Environment**</span></span> | <span data-ttu-id="e24c9-342">**Region**</span><span class="sxs-lookup"><span data-stu-id="e24c9-342">**Region**</span></span> | <span data-ttu-id="e24c9-343">**Range**</span><span class="sxs-lookup"><span data-stu-id="e24c9-343">**Range**</span></span>
--- | --- | ---
<span data-ttu-id="e24c9-344">Prod</span><span class="sxs-lookup"><span data-stu-id="e24c9-344">PROD</span></span> | <span data-ttu-id="e24c9-345">Nordamerika</span><span class="sxs-lookup"><span data-stu-id="e24c9-345">North America</span></span> | <span data-ttu-id="e24c9-346">52.250.92.252/30, 52.224.250.216/30</span><span class="sxs-lookup"><span data-stu-id="e24c9-346">52.250.92.252/30, 52.224.250.216/30</span></span>
<span data-ttu-id="e24c9-347">Prod</span><span class="sxs-lookup"><span data-stu-id="e24c9-347">PROD</span></span> | <span data-ttu-id="e24c9-348">Europa</span><span class="sxs-lookup"><span data-stu-id="e24c9-348">Europe</span></span> | <span data-ttu-id="e24c9-349">20.54.41.208/30, 51.105.159.88/30</span><span class="sxs-lookup"><span data-stu-id="e24c9-349">20.54.41.208/30, 51.105.159.88/30</span></span> 
<span data-ttu-id="e24c9-350">Prod</span><span class="sxs-lookup"><span data-stu-id="e24c9-350">PROD</span></span> | <span data-ttu-id="e24c9-351">Asiatisch-pazifischer Raum</span><span class="sxs-lookup"><span data-stu-id="e24c9-351">Asia Pacific</span></span> | <span data-ttu-id="e24c9-352">52.139.188.212/30, 20.43.146.44/30</span><span class="sxs-lookup"><span data-stu-id="e24c9-352">52.139.188.212/30, 20.43.146.44/30</span></span> 


<span data-ttu-id="e24c9-353">Wenn Sie andere Probleme haben oder Feedback geben möchten, schreiben Sie uns [aka.ms/TalkToGraphConnectors](https://aka.ms/TalkToGraphConnectors)</span><span class="sxs-lookup"><span data-stu-id="e24c9-353">If you have any other issues or want to provide feedback, write to us [aka.ms/TalkToGraphConnectors](https://aka.ms/TalkToGraphConnectors)</span></span>
